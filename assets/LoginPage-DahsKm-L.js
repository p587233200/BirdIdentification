import{u as k,r as i,c as A,a as c,b as B,d as N,e,w as a,F as T,o as g,f as j,g as F,p as I,h as R,i as b}from"./index-BJub7XFF.js";import{_ as P,u as J,a as L,V as U,b as D,c as d,d as f,e as E,f as M,g as O,h as q,i as V}from"./VAlert-DiXu28f5.js";import{V as z,a as x}from"./VTextField-CQB5OM2t.js";const w=r=>(I("data-v-440cad42"),r=r(),R(),r),G=w(()=>b("span",{style:{color:"white"}},"登入",-1)),H=w(()=>b("span",{style:{color:"white"}},"前往註冊",-1)),K={__name:"LoginPage",setup(r){const _=k(),t=J(),h=L(),p=i(""),m=i(""),l=i(!1),n=i(!1),y=()=>{const s={username:p.value,password:m.value};return JSON.stringify(s)},v=[s=>s?!0:"輸入值不得為空"];function C(){_.push("/register")}async function S(s){if((await s).valid){n.value=!0,l.value=!0;const o=await h.login(y());console.log(o.statusCode),o.status?setTimeout(()=>{_.push("/"),t.callAlert("登入成功!!"),n.value=!1,l.value=!1},2e3):(t.callAlert("帳號密碼錯誤","出包拉","error"),n.value=!1,l.value=!1)}}return(s,u)=>(g(),A(T,null,[c(t).show?(g(),B(U,{key:0,type:c(t).type,title:c(t).title,text:c(t).text},null,8,["type","title","text"])):N("",!0),e(D,{fluid:"",class:"background-image"},{default:a(()=>[e(d,{class:"d-flex justify-center align-center"},{default:a(()=>[e(f,{cols:"10",sm:"8",md:"7",lg:"6",xl:"5"},{default:a(()=>[e(E,{loading:n.value,class:"d-flex flex-column"},{default:a(()=>[e(M,{class:"d-flex justify-center"},{default:a(()=>[j(" 登入")]),_:1}),e(z,{"validate-on":"submit",onSubmit:F(S,["prevent"])},{default:a(()=>[e(O,null,{default:a(()=>[e(d,{class:"d-flex flex-column"},{default:a(()=>[e(d,{class:"d-flex flex-column align-center"},{default:a(()=>[e(f,{cols:"11",class:"py-1"},{default:a(()=>[e(x,{modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=o=>p.value=o),label:"帳號",variant:"outlined",disabled:l.value,rules:v},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(d,{class:"d-flex flex-column align-center"},{default:a(()=>[e(f,{cols:"11",class:"py-0"},{default:a(()=>[e(x,{modelValue:m.value,"onUpdate:modelValue":u[1]||(u[1]=o=>m.value=o),label:"密碼",variant:"outlined",rules:v,disabled:l.value,type:"password"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(q,null,{default:a(()=>[e(d,{class:"pt-4"},{default:a(()=>[e(f,{class:"d-flex justify-center"},{default:a(()=>[e(V,{variant:"elevated",width:"250",color:"rgba(71, 105,147, 1)",disabled:l.value,type:"submit"},{default:a(()=>[G]),_:1},8,["disabled"]),e(V,{variant:"elevated",width:"250",color:"rgba(71, 105,147, 1)",disabled:l.value,onClick:C},{default:a(()=>[H]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],64))}},Y=P(K,[["__scopeId","data-v-440cad42"]]);export{Y as default};
