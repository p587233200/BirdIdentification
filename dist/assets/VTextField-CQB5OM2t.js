import{k as T,m as W,l as M,r as P,n as N,e as l,q as X,s as k,t as Y,v as I,x as Z,y as $,F as _,z as ee,A,B as te}from"./index-BJub7XFF.js";import{m as ne,j as le,k as E,l as ae,n as ue,I as oe,o as ie,p as B,q as se,r as re,s as ce}from"./VAlert-DiXu28f5.js";const de=T({...W(),...ne()},"VForm"),ye=M()({name:"VForm",props:de(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,g){let{slots:c,emit:V}=g;const n=le(e),a=P();function d(s){s.preventDefault(),n.reset()}function C(s){const r=s,u=n.validate();r.then=u.then.bind(u),r.catch=u.catch.bind(u),r.finally=u.finally.bind(u),V("submit",r),r.defaultPrevented||u.then(y=>{var v;let{valid:b}=y;b&&((v=a.value)==null||v.submit())}),r.preventDefault()}return N(()=>{var s;return l("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:d,onSubmit:C},[(s=c.default)==null?void 0:s.call(c,n)])}),E(n,a)}}),fe=["color","file","time","date","datetime-local","week","month"],ve=T({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ae(),...ue()},"VTextField"),Fe=M()({name:"VTextField",directives:{Intersect:oe},inheritAttrs:!1,props:ve(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,g){let{attrs:c,emit:V,slots:n}=g;const a=X(e,"modelValue"),{isFocused:d,focus:C,blur:s}=ie(e),r=k(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:(a.value??"").toString().length),u=k(()=>{if(c.maxlength)return c.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),y=k(()=>["plain","underlined"].includes(e.variant));function b(t,o){var i,f;!e.autofocus||!t||(f=(i=o[0].target)==null?void 0:i.focus)==null||f.call(i)}const v=P(),p=P(),m=P(),j=k(()=>fe.includes(e.type)||e.persistentPlaceholder||d.value||e.active);function F(){var t;m.value!==document.activeElement&&((t=m.value)==null||t.focus()),d.value||C()}function q(t){V("mousedown:control",t),t.target!==m.value&&(F(),t.preventDefault())}function z(t){F(),V("click:control",t)}function O(t){t.stopPropagation(),F(),A(()=>{a.value=null,te(e["onClick:clear"],t)})}function U(t){var i;const o=t.target;if(a.value=o.value,(i=e.modelModifiers)!=null&&i.trim&&["text","search","password","tel","url"].includes(e.type)){const f=[o.selectionStart,o.selectionEnd];A(()=>{o.selectionStart=f[0],o.selectionEnd=f[1]})}}return N(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),o=!!(t||n.details),[i,f]=Y(c),{modelValue:me,...G}=B.filterProps(e),H=se(e);return l(B,I({ref:v,modelValue:a.value,"onUpdate:modelValue":x=>a.value=x,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":y.value},e.class],style:e.style},i,G,{centerAffix:!y.value,focused:d.value}),{...n,default:x=>{let{id:h,isDisabled:S,isDirty:R,isReadonly:J,isValid:K}=x;return l(re,I({ref:p,onMousedown:q,onClick:z,"onClick:clear":O,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},H,{id:h.value,active:j.value||R.value,dirty:R.value||e.dirty,disabled:S.value,focused:d.value,error:K.value===!1}),{...n,default:L=>{let{props:{class:w,...Q}}=L;const D=Z(l("input",I({ref:m,value:a.value,onInput:U,autofocus:e.autofocus,readonly:J.value,disabled:S.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:F,onBlur:s},Q,f),null),[[$("intersect"),{handler:b},null,{once:!0}]]);return l(_,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?l("div",{class:w,"data-no-activator":""},[n.default(),D]):ee(D,{class:w}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:o?x=>{var h;return l(_,null,[(h=n.details)==null?void 0:h.call(n,x),t&&l(_,null,[l("span",null,null),l(ce,{active:e.persistentCounter||d.value,value:r.value,max:u.value},n.counter)])])}:void 0})}),E({},v,p,m)}});export{ye as V,Fe as a};
