import{u as T,r as f,c as F,a,b as S,d as A,e,w as l,F as I,o as x,f as P,g as U,j as V,p as J,h as D,i as b}from"./index-BJub7XFF.js";import{_ as E,a as L,u as M,V as O,b as q,c as r,d as n,e as z,f as G,g as H,h as K,i as R}from"./VAlert-DiXu28f5.js";import{V as Q,a as v}from"./VTextField-CQB5OM2t.js";const w=m=>(J("data-v-a9140954"),m=m(),D(),m),W=w(()=>b("span",{class:"error-message"},"密碼不一致",-1)),X=w(()=>b("span",{style:{color:"white"}},"註冊",-1)),Y=w(()=>b("span",{style:{color:"white"}},"已有帳號",-1)),Z={__name:"RegisterPage",setup(m){const y=T(),h=L(),t=M(),s=f(!1),p=f(!1),i=f(""),c=f(""),_=f(""),j=()=>{const o={username:i.value,password:c.value};return JSON.stringify(o)};function C(){return c.value!==_.value}const g=[o=>o?!0:"輸入值不得為空"];function B(){y.push("/login")}async function N(o){if(C()){t.callAlert("密碼不一致","出包拉","error");return}if((await h.checkUsername(i.value)).status){t.callAlert("此帳號已有註冊過了","出包拉","error");return}if(console.log(await o),(await o).valid){p.value=!0,s.value=!0;const k=await h.register(j());console.log(k.statusCode),k.status?setTimeout(()=>{y.push("/login"),t.callAlert(" 註冊成功 ! ! 現在可以使用您的帳號密碼登入摟！！"),p.value=!1,s.value=!1},2e3):(t.callAlert("帳號密碼錯誤","出包拉","error"),p.value=!1,s.value=!1)}}return(o,u)=>(x(),F(I,null,[a(t).show?(x(),S(O,{key:0,type:a(t).type,title:a(t).title,text:a(t).text},null,8,["type","title","text"])):A("",!0),e(q,{fluid:"",class:"background-image"},{default:l(()=>[e(r,{class:"d-flex justify-center"},{default:l(()=>[e(n,{cols:"10",sm:"8",md:"7",lg:"6",xl:"5"},{default:l(()=>[e(z,{loading:a(p),class:"d-flex flex-column"},{default:l(()=>[e(G,{class:"d-flex justify-center"},{default:l(()=>[P(" 註冊 ")]),_:1}),e(Q,{"validate-on":"submit",onSubmit:U(N,["prevent"])},{default:l(()=>[e(H,null,{default:l(()=>[e(r,{class:"d-flex flex-column"},{default:l(()=>[e(r,{class:"d-flex flex-column align-center"},{default:l(()=>[e(n,{cols:"11",class:"py-1"},{default:l(()=>[e(v,{modelValue:a(i),"onUpdate:modelValue":u[0]||(u[0]=d=>V(i)?i.value=d:null),label:"帳號",variant:"outlined",rules:g,disabled:a(s)},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(r,{class:"d-flex flex-column align-center"},{default:l(()=>[e(n,{cols:"11",class:"py-0"},{default:l(()=>[e(v,{label:"密碼",modelValue:a(c),"onUpdate:modelValue":u[1]||(u[1]=d=>V(c)?c.value=d:null),variant:"outlined",type:"password",disabled:a(s),rules:g},null,8,["modelValue","disabled"])]),_:1})]),_:1}),e(r,{class:"d-flex flex-column align-center"},{default:l(()=>[e(n,{cols:"11",class:"py-0"},{default:l(()=>[e(v,{label:"請再輸入一次密碼",modelValue:a(_),"onUpdate:modelValue":u[2]||(u[2]=d=>V(_)?_.value=d:null),variant:"outlined",type:"password",disabled:a(s),rules:g},null,8,["modelValue","disabled"])]),_:1})]),_:1}),C()?(x(),S(r,{key:0,class:"d-flex flex-column align-center"},{default:l(()=>[e(n,{cols:"11",class:"py-0"},{default:l(()=>[W]),_:1})]),_:1})):A("",!0)]),_:1}),e(K,null,{default:l(()=>[e(r,{class:"pt-4"},{default:l(()=>[e(n,{class:"d-flex justify-center"},{default:l(()=>[e(R,{variant:"elevated",width:"250",color:"rgba(71, 105,147, 1)",type:"submit",disabled:a(s)},{default:l(()=>[X]),_:1},8,["disabled"]),e(R,{variant:"elevated",width:"250",color:"rgba(71, 105,147, 1)",onClick:B,disabled:a(s)},{default:l(()=>[Y]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],64))}},ae=E(Z,[["__scopeId","data-v-a9140954"]]);export{ae as default};
